(this["webpackJsonpmaryland-metrics"]=this["webpackJsonpmaryland-metrics"]||[]).push([[0],{208:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(15),l=a.n(o),i=(a(90),a(79)),c=a(76),s=a(53),u=a.n(s),d="ReportDate",m="STMA",h="STMA_DELTA",f="STMA_PERC_DELTA",C={},E=function(e){return Math.round(1e3*e)/1e3};C.PercentDelta=function(e){var t=e.TotalCases,a=e.CaseDelta;return t?E(a/t):""},C[d]=function(e){return u()(new Date(e[d])).format("MM/DD/YYYY")},C[h]=function(e,t){return t&&t[m]?(e[m]-t[m]).toString():""},C[f]=function(e,t){return t&&t[m]?E((e[m]-t[m])/e[m]):""};var p=["ALLE","ANNE","BALT","BCITY","CALV","CARO","CARR","CECI","CHAR","DORC","FRED","GARR","HARF","HOWA","KENT","MONT","PRIN","QUEE","SOME","STMA","TALB","WASH","WICO","WORC"],R=[d,"TotalCases","CaseDelta","PercentDelta",m,h,f,"ALLE","ANNE","BALT","BCITY","CALV","CARO","CARR","CECI","CHAR","DORC","FRED","GARR","HARF","HOWA","KENT","MONT","PRIN","QUEE","SOME","TALB","WASH","WICO","WORC","deaths","deathALLE","deathANNE","deathBALT","deathBCITY","deathCALV","deathCARO","deathCARR","deathCECI","deathCHAR","deathDORC","deathFRED","deathGARR","deathHARF","deathHOWA","deathKENT","deathMONT","deathPRIN","deathQUEE","deathSTMA","deathSOME","deathTALB","deathWASH","deathWICO","deathWORC"],A=a(227),g=a(229),v=a(233),y=a(232),T=a(228),O=a(230),D=a(231),b=["PercentDelta",f],L=function(e){var t=[d].concat(Object(i.a)(R)),a=e.data;return r.a.createElement(A.a,null,r.a.createElement(T.a,{style:{maxHeight:600}},r.a.createElement(g.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},r.a.createElement(O.a,null,r.a.createElement(D.a,null,t.map((function(e){return r.a.createElement(y.a,{key:e,align:"left"},e)})))),r.a.createElement(v.a,null,a.map((function(e){return r.a.createElement(D.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.code},t.map((function(t){var a,n=e[t];return r.a.createElement(y.a,{key:t,align:"left"},b.indexOf(t)>=0?(a=n)?Math.round(1e3*a)/10+"%":"":n)})))}))))))},M=a(235),S=a(236),B=a(77),H=function(e){var t=e.lines,a=e.title,n=e.dateLabels,o=e.logarithmic,l=e.displayLegend,i=e.height,c={labels:n,datasets:t.map((function(e){return{label:e.title,fill:!!e.fillColor,lineTension:.1,backgroundColor:e.fillColor,borderColor:e.lineColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:e.lineColor,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:e.lineColor,pointHoverBorderColor:e.lineColor,pointHoverBorderWidth:2,pointRadius:1,pointHitRadius:10,data:e.values}}))},s={title:{text:a,display:!0},responsive:!0,maintainAspectRatio:!1,scales:{xAxes:[{display:!0}],yAxes:[{display:!0,type:o?"logarithmic":void 0}]},legend:{display:l,position:"bottom"}};return r.a.createElement("div",{style:{height:i||300,marginBottom:0}},r.a.createElement(B.a,{data:c,options:s}))},k=function(e){return e?e.reduce((function(e,t){return e+t}),0)/e.length:0},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,a=Math.floor(t),n=a,r=Math.floor(n/2),o=n-r,l=e.length;return e.map((function(t,a){return k(e.slice(Math.max(0,a-r),Math.min(l,a+o)))}))},I=a(187).convertArrayToCSV,N=a(192),w=(0,a(193).default)({count:30}).map((function(e){return e.toString()})),x=function(e){var t=["52, 163, 73","51, 72, 176","145, 36, 36"];return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{padding:"1rem"},r.a.createElement(L,e),r.a.createElement(S.a,{onClick:function(){return N(I(e.data),"data.csv","text/csv")}},"Download CSV")),["TotalCases","CaseDelta","PercentDelta",m,h,f].map((function(a,n){return r.a.createElement(M.a,{padding:"1rem"},r.a.createElement(H,{displayLegend:!1,logarithmic:!1,dateLabels:e.data.map((function(e){return e[d]})),lines:[{lineColor:"rgb(".concat(t[n%t.length],")"),fillColor:"rgb(".concat(t[n%t.length],", 0.35)"),title:a,values:e.data.map((function(e){return e[a]}))}],title:a,key:a}))})),[{title:"Cases by County",datasets:p.map((function(t){return{title:t,data:e.data.map((function(e){return e[t]}))}}))},{title:"5-Day Moving Average",datasets:p.map((function(t){return{title:t,data:W(e.data.map((function(e){return e[t]})))}}))}].map((function(t){return r.a.createElement(M.a,{padding:"1rem"},r.a.createElement(H,{height:"90vh",displayLegend:!0,logarithmic:!0,dateLabels:e.data.map((function(e){return e[d]})),lines:t.datasets.map((function(e,t){return{lineColor:w[t],title:e.title,values:e.data}})),title:t.title,key:t.title}))})))},F=function(e){return r.a.createElement("h1",null,"ERROR: ",e.message)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));fetch("https://services.arcgis.com/njFNhDsUCentVYJW/arcgis/rest/services/MASTER_CaseTracker_1/FeatureServer/0/query?f=json&where=1%3D1&returnGeometry=false&spatialRel=esriSpatialRelIntersects&outFields=*&orderByFields=ReportDate%20asc&resultOffset=0&resultRecordCount=2000&cacheHint=true").then((function(e){return e.json()})).then((function(e){var t=e.features.map((function(e){return e.attributes}));return t.map((function(e,a){var n,r={},o=Object(c.a)(R);try{for(o.s();!(n=o.n()).done;){var l=n.value;C[l]?r[l]=C[l](e,a>0?t[a-1]:void 0):r[l]=e[l]}}catch(i){o.e(i)}finally{o.f()}return r}))})).then((function(e){l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(x,{data:e})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))})).catch((function(e){console.log("ERROR:",e),l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(F,{message:e})),document.getElementById("root"))}))},85:function(e,t,a){e.exports=a(208)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.e33cf05a.chunk.js.map